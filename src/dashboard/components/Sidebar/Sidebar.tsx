import "./Sidebar.scss";
import { Menu, Modal } from "antd";
import React, { useState } from "react";
import logo from "../../../assets/image/logoLMS.png";
import { Link, useNavigate, useLocation } from "react-router-dom";
import logoutImg from "../../../assets/icons/logout.svg";
import supportImg from "../../../assets/icons/support.svg";
import { logout } from "../../../redux/reducers/authorizationReducer";
import { useAppDispatch, useAppSelector } from "../../../redux/hooks";
import { getPermission } from "../../../redux/selectors/authorizationSelectors";
import { useTranslation } from "react-i18next";
import { getHelp, setDrawer } from "../../../redux/reducers/usersReducer";
import { getHelpListSelector } from "../../../redux/selectors/usersSelectors";

const Sidebar = () => {
  const { t } = useTranslation();
  const dispatch = useAppDispatch();
  const navigate = useNavigate();
  const permission = useAppSelector((state) => getPermission(state));
  const helpList = useAppSelector((state) => getHelpListSelector(state));
  let location = useLocation();
  let [adminPanel, setAdminPanel] = useState(false);
  const [isModalVisible, setIsModalVisible] = useState(false);
  const showModal = () => {
    setIsModalVisible(true);
    dispatch(getHelp());
  };
  const handleOk = () => {
    setIsModalVisible(false);
  };
  const handleCancel = () => {
    setIsModalVisible(false);
  };
  let closeMenu = () => {
    dispatch(setDrawer(false));
  };
  return (
    <div className="sidebar">
      <Menu
        defaultSelectedKeys={["/dashboard"]}
        selectedKeys={[location.pathname]}
        mode="inline"
        className="menu"
      >
        <Link to="/dashboard">
          <div className="logo">
            <img src={logo} alt="Logo" />
          </div>
        </Link>
        {!adminPanel ? (
          <>
            <Menu.Item
              onClick={closeMenu}
              key="/dashboard"
              icon={
                <svg
                  width="20"
                  height="18"
                  viewBox="0 0 20 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M10 8C8.34315 8 7 9.34315 7 11V13.4286V17C7 17.5523 6.55228 18 6 18C5.44772 18 5 17.5523 5 17V13.4286V11L5.00012 10.9645C4.83678 10.9879 4.6698 11 4.5 11C4.38994 11 4.28108 10.9949 4.17361 10.985C4.11723 10.9949 4.05921 11 4 11H3.57143C2.70355 11 2 11.7036 2 12.5714V15C2 15.5523 1.55228 16 1 16C0.447715 16 0 15.5523 0 15V12.5714C0 11.3004 0.663961 10.1845 1.66396 9.5515C1.24626 8.97507 1 8.26629 1 7.5C1 5.567 2.567 4 4.5 4C5.04254 4 5.55625 4.12344 6.01457 4.34378C6.00492 4.23047 6 4.11581 6 4C6 1.79086 7.79086 0 10 0C12.2091 0 14 1.79086 14 4C14 4.11581 13.9951 4.23047 13.9854 4.34378C14.4438 4.12345 14.9575 4 15.5 4C17.433 4 19 5.567 19 7.5C19 8.26629 18.7537 8.97507 18.336 9.5515C19.336 10.1845 20 11.3004 20 12.5714V15C20 15.5523 19.5523 16 19 16C18.4477 16 18 15.5523 18 15V12.5714C18 11.7036 17.2964 11 16.4286 11H16C15.9408 11 15.8828 10.9949 15.8264 10.985C15.7189 10.9949 15.6101 11 15.5 11C15.3302 11 15.1632 10.9879 14.9999 10.9645L15 11V13.4286V17C15 17.5523 14.5523 18 14 18C13.4477 18 13 17.5523 13 17V13.4286V11C13 9.34315 11.6569 8 10 8ZM10 6C8.89543 6 8 5.10457 8 4C8 2.89543 8.89543 2 10 2C11.1046 2 12 2.89543 12 4C12 5.10457 11.1046 6 10 6ZM4.5 6C3.67157 6 3 6.67157 3 7.5C3 8.32843 3.67157 9 4.5 9C5.32843 9 6 8.32843 6 7.5C6 6.67157 5.32843 6 4.5 6ZM15.5 6C14.6716 6 14 6.67157 14 7.5C14 8.32843 14.6716 9 15.5 9C16.3284 9 17 8.32843 17 7.5C17 6.67157 16.3284 6 15.5 6Z"
                    fill="black"
                  />
                </svg>
              }
            >
              <Link to="/dashboard">MATE</Link>
            </Menu.Item>
            <Menu.Item
              onClick={closeMenu}
              key="/dashboard/myCourses/"
              icon={
                <svg
                  width="18"
                  height="18"
                  viewBox="0 0 18 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M3 0C1.34315 0 0 1.34315 0 3V5C0 6.65685 1.34315 8 3 8H5C6.65685 8 8 6.65685 8 5V3C8 1.34315 6.65685 0 5 0H3ZM13 0C11.3431 0 10 1.34315 10 3V5C10 6.65685 11.3431 8 13 8H15C16.6569 8 18 6.65685 18 5V3C18 1.34315 16.6569 0 15 0H13ZM0 13C0 11.3431 1.34315 10 3 10H5C6.65685 10 8 11.3431 8 13V15C8 16.6569 6.65685 18 5 18H3C1.34315 18 0 16.6569 0 15V13ZM13 10C11.3431 10 10 11.3431 10 13V15C10 16.6569 11.3431 18 13 18H15C16.6569 18 18 16.6569 18 15V13C18 11.3431 16.6569 10 15 10H13Z"
                    fill="black"
                  />
                </svg>
              }
            >
              <Link to="/dashboard/myCourses/">{t("myCourses")}</Link>
            </Menu.Item>
            <Menu.Item
              onClick={closeMenu}
              key="/dashboard/allCourses"
              icon={
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M17 6C18.6569 6 20 4.65685 20 3C20 1.34315 18.6569 0 17 0C15.3431 0 14 1.34315 14 3C14 4.65685 15.3431 6 17 6ZM18 3C18 3.55228 17.5523 4 17 4C16.4477 4 16 3.55228 16 3C16 2.44772 16.4477 2 17 2C17.5523 2 18 2.44772 18 3ZM11 2C11.5523 2 12 2.44772 12 3C12 3.55228 11.5523 4 11 4H1C0.447716 4 0 3.55228 0 3C0 2.44772 0.447716 2 1 2H11ZM20 10C20 11.6569 18.6569 13 17 13C15.3431 13 14 11.6569 14 10C14 8.34315 15.3431 7 17 7C18.6569 7 20 8.34315 20 10ZM17 11C17.5523 11 18 10.5523 18 10C18 9.44771 17.5523 9 17 9C16.4477 9 16 9.44771 16 10C16 10.5523 16.4477 11 17 11ZM11 9C11.5523 9 12 9.44771 12 10C12 10.5523 11.5523 11 11 11H1C0.447716 11 0 10.5523 0 10C0 9.44771 0.447716 9 1 9H11ZM20 17C20 18.6569 18.6569 20 17 20C15.3431 20 14 18.6569 14 17C14 15.3431 15.3431 14 17 14C18.6569 14 20 15.3431 20 17ZM17 18C17.5523 18 18 17.5523 18 17C18 16.4477 17.5523 16 17 16C16.4477 16 16 16.4477 16 17C16 17.5523 16.4477 18 17 18ZM11 16C11.5523 16 12 16.4477 12 17C12 17.5523 11.5523 18 11 18H1C0.447716 18 0 17.5523 0 17C0 16.4477 0.447716 16 1 16H11Z"
                    fill="#7D8592"
                  />
                </svg>
              }
            >
              <Link to="/dashboard/allCourses">{t("allCourses")}</Link>
            </Menu.Item>
            <Menu.Item
              onClick={closeMenu}
              key="/dashboard/profile"
              icon={
                <svg
                  width="16"
                  height="21"
                  viewBox="0 0 16 21"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M8 14.6957C8.78212 14.6957 9.40922 14.7508 9.94426 14.8325C12.1498 15.1695 14 17.5109 14 19.913C14 20.4893 14.4477 20.9565 15 20.9565C15.5523 20.9565 16 20.4893 16 19.913C16 17.2073 14.3751 14.5495 12.0409 13.3564C13.8313 12.0334 15 9.85477 15 7.39131C15 3.35723 11.866 0.0869598 8 0.0869598C4.13401 0.0869598 1 3.35723 1 7.39131C1 9.85477 2.1687 12.0334 3.9591 13.3564C1.62494 14.5495 0 17.2073 0 19.913C0 20.4893 0.447715 20.9565 1 20.9565C1.55229 20.9565 2 20.4893 2 19.913C2 17.5109 3.85024 15.1695 6.05574 14.8325C6.59078 14.7508 7.21788 14.6957 8 14.6957ZM8 12.6087C10.7614 12.6087 13 10.2728 13 7.39131C13 4.50982 10.7614 2.17392 8 2.17392C5.23858 2.17392 3 4.50982 3 7.39131C3 10.2728 5.23858 12.6087 8 12.6087Z"
                    fill="#7D8592"
                  />
                </svg>
              }
            >
              <Link to="/dashboard/profile">{t("Sidebar:profile")}</Link>
            </Menu.Item>
            <Menu.Item
              onClick={closeMenu}
              key="/dashboard/knowledgeBase"
              icon={
                <svg
                  width="16"
                  height="20"
                  viewBox="0 0 16 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M13 1C13 0.447715 12.5523 0 12 0C11.4477 0 11 0.447715 11 1V2H9V1C9 0.447715 8.55228 0 8 0C7.44771 0 7 0.447715 7 1V2H5V1C5 0.447715 4.55229 0 4 0C3.44771 0 3 0.447715 3 1V2C1.34314 2 0 3.34315 0 5V17C0 18.6569 1.34315 20 3 20H13C14.6569 20 16 18.6569 16 17V5C16 3.34315 14.6569 2 13 2V1ZM5 4V5C5 5.55228 4.55229 6 4 6C3.44771 6 3 5.55228 3 5V4C2.44771 4 2 4.44772 2 5V17C2 17.5523 2.44772 18 3 18H13C13.5523 18 14 17.5523 14 17V5C14 4.44772 13.5523 4 13 4V5C13 5.55228 12.5523 6 12 6C11.4477 6 11 5.55228 11 5V4H9V5C9 5.55228 8.55228 6 8 6C7.44771 6 7 5.55228 7 5V4H5ZM12 9C12 9.55229 11.5523 10 11 10H5C4.44771 10 4 9.55228 4 9C4 8.44771 4.44772 8 5 8H11C11.5523 8 12 8.44772 12 9ZM11 13C11.5523 13 12 12.5523 12 12C12 11.4477 11.5523 11 11 11H5C4.44772 11 4 11.4477 4 12C4 12.5523 4.44771 13 5 13H11ZM12 15C12 15.5523 11.5523 16 11 16H5C4.44771 16 4 15.5523 4 15C4 14.4477 4.44772 14 5 14H11C11.5523 14 12 14.4477 12 15Z"
                    fill="#7D8592"
                  />
                </svg>
              }
            >
              <Link to="/dashboard/knowledgeBase">
                {t("Sidebar:knowledgeBase")}
              </Link>
            </Menu.Item>
            <Menu.Item
              onClick={closeMenu}
              key="/dashboard/rating"
              icon={
                <svg
                  width="16"
                  height="20"
                  viewBox="0 0 16 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M15.8459 0.466722C15.6628 0.176215 15.3434 0 15 0H10.5391C10.1445 0 9.78684 0.232032 9.62598 0.592342L8 4.23447L6.37401 0.592342C6.21316 0.232032 5.85546 0 5.46088 0H0.999998C0.656585 0 0.337193 0.176215 0.154058 0.466722C-0.0290775 0.757229 -0.0503349 1.12139 0.0977554 1.43123L3.19438 7.91018C1.8432 9.18637 0.999998 10.9947 0.999998 13C0.999998 16.866 4.134 20 8 20C11.866 20 15 16.866 15 13C15 10.9947 14.1568 9.18637 12.8056 7.91018L15.9022 1.43123C16.0503 1.12139 16.0291 0.757229 15.8459 0.466722ZM4.85418 6.745L2.5863 2H4.81219L6.65553 6.12899C6.02018 6.25259 5.41553 6.46212 4.85418 6.745ZM11.1878 2L9.34447 6.12899C9.97982 6.25259 10.5845 6.46212 11.1458 6.745L13.4137 2H11.1878ZM13 13C13 15.7614 10.7614 18 8 18C5.23857 18 3 15.7614 3 13C3 10.2386 5.23857 8 8 8C10.7614 8 13 10.2386 13 13Z"
                    fill="#7D8592"
                  />
                </svg>
              }
            >
              <Link to="/dashboard/rating">{t("Sidebar:rating")}</Link>
            </Menu.Item>
            <Menu.Item
              onClick={closeMenu}
              key="/dashboard/settings"
              icon={
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M12.5 0C12.9465 0 13.3388 0.295977 13.4615 0.725279L14.2219 3.38671L16.8585 3.01005C17.3062 2.94611 17.741 3.19048 17.9191 3.60608L19.4191 7.10608C19.5802 7.48192 19.4962 7.91797 19.2071 8.20711L17.4142 10L19.2071 11.7929C19.5259 12.1118 19.5919 12.6046 19.3682 12.9961L17.3682 16.4961C17.1605 16.8596 16.7485 17.0552 16.3356 16.9864L14.2162 16.6332L13.4615 19.2747C13.3388 19.704 12.9465 20 12.5 20H7.49997C7.05349 20 6.6611 19.704 6.53845 19.2747L5.78372 16.6332L3.66437 16.9864C3.25147 17.0552 2.83941 16.8596 2.63173 16.4961L0.631729 12.9961C0.407993 12.6046 0.473993 12.1118 0.792864 11.7929L2.58576 10L0.792864 8.20711C0.503725 7.91797 0.41975 7.48192 0.580826 7.10608L2.08083 3.60608C2.25894 3.19048 2.69378 2.94611 3.14139 3.01005L5.77804 3.38671L6.53845 0.725279C6.6611 0.295977 7.05349 0 7.49997 0H12.5ZM12.5384 4.77472L11.7457 2H8.25427L7.46149 4.77472C7.32421 5.25523 6.85326 5.56062 6.35855 5.48995L3.61722 5.09833L2.68581 7.27163L4.70708 9.29289C5.0976 9.68342 5.0976 10.3166 4.70708 10.7071L2.74716 12.667L4.02263 14.8991L6.33557 14.5136C6.83725 14.43 7.32177 14.7363 7.46149 15.2253L8.25427 18H11.7457L12.5384 15.2253C12.6782 14.7363 13.1627 14.43 13.6644 14.5136L15.9773 14.8991L17.2528 12.667L15.2929 10.7071C14.9023 10.3166 14.9023 9.68342 15.2929 9.29289L17.3141 7.27163L16.3827 5.09833L13.6414 5.48995C13.1467 5.56062 12.6757 5.25523 12.5384 4.77472ZM9.99997 12C11.1045 12 12 11.1046 12 10C12 8.89543 11.1045 8 9.99997 8C8.8954 8 7.99997 8.89543 7.99997 10C7.99997 11.1046 8.8954 12 9.99997 12ZM14 10C14 7.79086 12.2091 6 9.99997 6C7.79083 6 5.99997 7.79086 5.99997 10C5.99997 12.2091 7.79083 14 9.99997 14C12.2091 14 14 12.2091 14 10Z"
                    fill="#7D8592"
                  />
                </svg>
              }
            >
              <Link to="/dashboard/settings">{t("Sidebar:settings")}</Link>
            </Menu.Item>
            {(permission === "Admin" ||
              permission === "Mentor" ||
              permission === "Manager") && (
              <Menu.Item
                onClick={() => {
                  setAdminPanel(true);
                }}
                key="admin"
                icon={
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M17 0H3C1.34315 0 0 1.34315 0 3V17C0 18.6569 1.34315 20 3 20H17C18.6569 20 20 18.6569 20 17V3C20 1.34315 18.6569 0 17 0ZM2 3C2 2.44772 2.44772 2 3 2H17C17.5523 2 18 2.44772 18 3V17C18 17.5523 17.5523 18 17 18H3C2.44772 18 2 17.5523 2 17V3ZM10 4C9.17157 4 8.5 4.67157 8.5 5.5V14.5C8.5 15.3284 9.17157 16 10 16C10.8284 16 11.5 15.3284 11.5 14.5V5.5C11.5 4.67157 10.8284 4 10 4ZM13.5 9.5C13.5 8.67157 14.1716 8 15 8C15.8284 8 16.5 8.67157 16.5 9.5V14.5C16.5 15.3284 15.8284 16 15 16C14.1716 16 13.5 15.3284 13.5 14.5V9.5ZM5.5 10C4.67157 10 4 10.6716 4 11.5V14.5C4 15.3284 4.67157 16 5.5 16C6.32843 16 7 15.3284 7 14.5V11.5C7 10.6716 6.32843 10 5.5 10Z"
                      fill="black"
                    />
                  </svg>
                }
              >
                Админ.панель
              </Menu.Item>
            )}
          </>
        ) : (
          <>
            {(permission === "Admin" || permission === "Mentor") && (
              <>
                <Menu.Item
                  key="/dashboard/createCourse"
                  icon={
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M1 0C0.447715 0 0 0.447715 0 1V5C0 5.55228 0.447715 6 1 6C1.55228 6 2 5.55228 2 5V2H5C5.55228 2 6 1.55228 6 1C6 0.447715 5.55228 0 5 0H1ZM20 1C20 0.447715 19.5523 0 19 0H15C14.4477 0 14 0.447715 14 1C14 1.55228 14.4477 2 15 2H18V5C18 5.55228 18.4477 6 19 6C19.5523 6 20 5.55228 20 5V1ZM1 20C0.447715 20 0 19.5523 0 19V15C0 14.4477 0.447715 14 1 14C1.55228 14 2 14.4477 2 15V18H5C5.55228 18 6 18.4477 6 19C6 19.5523 5.55228 20 5 20H1ZM20 19C20 19.5523 19.5523 20 19 20H15C14.4477 20 14 19.5523 14 19C14 18.4477 14.4477 18 15 18H18V15C18 14.4477 18.4477 14 19 14C19.5523 14 20 14.4477 20 15V19ZM11 5C11 4.44772 10.5523 4 10 4C9.44771 4 9 4.44772 9 5V9H5C4.44772 9 4 9.44771 4 10C4 10.5523 4.44772 11 5 11H9V15C9 15.5523 9.44771 16 10 16C10.5523 16 11 15.5523 11 15V11H15C15.5523 11 16 10.5523 16 10C16 9.44771 15.5523 9 15 9H11V5Z"
                        fill="black"
                      />
                    </svg>
                  }
                >
                  <Link to="/dashboard/createCourse">Создать курс</Link>
                </Menu.Item>
                <Menu.Item
                  key="/dashboard/checkLab"
                  icon={
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M3 20L17 20C18.6569 20 20 18.6569 20 17V11.0013V11V10.9987L20 3C20 1.34315 18.6569 0 17 0H3C1.34315 0 0 1.34315 0 3V17C1.96477e-06 18.6569 1.34315 20 3 20ZM18 10L18 3C18 2.44771 17.5523 2 17 2L3 2C2.44772 2 2 2.44772 2 3L2 10H18ZM18 12H2L2 17C2 17.5523 2.44772 18 3 18L17 18C17.5523 18 18 17.5523 18 17V12ZM4 5C4 4.44772 4.44772 4 5 4H10C10.5523 4 11 4.44772 11 5C11 5.55229 10.5523 6 10 6H5C4.44772 6 4 5.55229 4 5ZM13 4C12.4477 4 12 4.44772 12 5C12 5.55229 12.4477 6 13 6H14C14.5523 6 15 5.55229 15 5C15 4.44772 14.5523 4 14 4H13Z"
                        fill="black"
                      />
                    </svg>
                  }
                >
                  <Link to="/dashboard/checkLab">Лабораторные</Link>
                </Menu.Item>
                <Menu.Item
                  key={"/dashboard/newUser"}
                  icon={
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M3 20L17 20C18.6569 20 20 18.6569 20 17V11.0013V11V10.9987L20 3C20 1.34315 18.6569 0 17 0H3C1.34315 0 0 1.34315 0 3V17C1.96477e-06 18.6569 1.34315 20 3 20ZM18 10L18 3C18 2.44771 17.5523 2 17 2L3 2C2.44772 2 2 2.44772 2 3L2 10H18ZM18 12H2L2 17C2 17.5523 2.44772 18 3 18L17 18C17.5523 18 18 17.5523 18 17V12ZM4 5C4 4.44772 4.44772 4 5 4H10C10.5523 4 11 4.44772 11 5C11 5.55229 10.5523 6 10 6H5C4.44772 6 4 5.55229 4 5ZM13 4C12.4477 4 12 4.44772 12 5C12 5.55229 12.4477 6 13 6H14C14.5523 6 15 5.55229 15 5C15 4.44772 14.5523 4 14 4H13Z"
                        fill="black"
                      />
                    </svg>
                  }
                >
                  <Link to="/dashboard/newUser">
                    <span>
                      <p>Создать студента</p>
                    </span>
                  </Link>
                </Menu.Item>
              </>
            )}
            <Menu.Item
              key="/dashboard/statistics"
              icon={
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M19.9754 4.73604C19.9752 5.28833 19.5274 5.7359 18.9751 5.73572C18.4228 5.73554 17.9752 5.28768 17.9754 4.7354L17.9758 3.41946L10.7082 10.7061C10.336 11.0792 9.7382 11.0995 9.34162 10.7525L6.04567 7.86856L1.70684 12.2071C1.3163 12.5976 0.683133 12.5976 0.292623 12.207C-0.0978866 11.8165 -0.0978639 11.1833 0.292675 10.7928L5.29304 5.79281C5.66531 5.42057 6.26243 5.4007 6.65863 5.74736L9.95363 8.63049L16.5668 2L15.001 2C14.4488 2 14.001 1.55229 14.001 1C14.001 0.447716 14.4488 2.11254e-06 15.001 0H18.9766C19.2419 1.94396e-06 19.4963 0.105403 19.6838 0.293009C19.8714 0.480614 19.9767 0.735052 19.9766 1.00032L19.9754 4.73604ZM15 11C15 10.4477 15.4477 10 16 10H19C19.5523 10 20 10.4477 20 11C20 11.5523 19.5523 12 19 12H16C15.4477 12 15 11.5523 15 11ZM8.5 14C7.94772 14 7.5 14.4477 7.5 15C7.5 15.5523 7.94772 16 8.5 16H11.5C12.0523 16 12.5 15.5523 12.5 15C12.5 14.4477 12.0523 14 11.5 14H8.5ZM-7.04313e-09 19C-7.04313e-09 18.4477 0.447715 18 1 18H4C4.55228 18 5 18.4477 5 19C5 19.5523 4.55228 20 4 20H1C0.447715 20 -7.04313e-09 19.5523 -7.04313e-09 19ZM7.5 19C7.5 18.4477 7.94772 18 8.5 18H11.5C12.0523 18 12.5 18.4477 12.5 19C12.5 19.5523 12.0523 20 11.5 20H8.5C7.94772 20 7.5 19.5523 7.5 19ZM15 19C15 18.4477 15.4477 18 16 18H19C19.5523 18 20 18.4477 20 19C20 19.5523 19.5523 20 19 20H16C15.4477 20 15 19.5523 15 19ZM16 14C15.4477 14 15 14.4477 15 15C15 15.5523 15.4477 16 16 16H19C19.5523 16 20 15.5523 20 15C20 14.4477 19.5523 14 19 14H16Z"
                    fill="black"
                  />
                </svg>
              }
            >
              <Link to="/dashboard/statistics">Статистика</Link>
            </Menu.Item>

            <Menu.Item
              key="/dashboard/users"
              icon={
                <svg
                  width="20"
                  height="18"
                  viewBox="0 0 20 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M10 8C8.34315 8 7 9.34315 7 11V13.4286V17C7 17.5523 6.55228 18 6 18C5.44772 18 5 17.5523 5 17V13.4286V11L5.00012 10.9645C4.83678 10.9879 4.6698 11 4.5 11C4.38994 11 4.28108 10.9949 4.17361 10.985C4.11723 10.9949 4.05921 11 4 11H3.57143C2.70355 11 2 11.7036 2 12.5714V15C2 15.5523 1.55228 16 1 16C0.447715 16 0 15.5523 0 15V12.5714C0 11.3004 0.663961 10.1845 1.66396 9.5515C1.24626 8.97507 1 8.26629 1 7.5C1 5.567 2.567 4 4.5 4C5.04254 4 5.55625 4.12344 6.01457 4.34378C6.00492 4.23047 6 4.11581 6 4C6 1.79086 7.79086 0 10 0C12.2091 0 14 1.79086 14 4C14 4.11581 13.9951 4.23047 13.9854 4.34378C14.4438 4.12345 14.9575 4 15.5 4C17.433 4 19 5.567 19 7.5C19 8.26629 18.7537 8.97507 18.336 9.5515C19.336 10.1845 20 11.3004 20 12.5714V15C20 15.5523 19.5523 16 19 16C18.4477 16 18 15.5523 18 15V12.5714C18 11.7036 17.2964 11 16.4286 11H16C15.9408 11 15.8828 10.9949 15.8264 10.985C15.7189 10.9949 15.6101 11 15.5 11C15.3302 11 15.1632 10.9879 14.9999 10.9645L15 11V13.4286V17C15 17.5523 14.5523 18 14 18C13.4477 18 13 17.5523 13 17V13.4286V11C13 9.34315 11.6569 8 10 8ZM10 6C8.89543 6 8 5.10457 8 4C8 2.89543 8.89543 2 10 2C11.1046 2 12 2.89543 12 4C12 5.10457 11.1046 6 10 6ZM4.5 6C3.67157 6 3 6.67157 3 7.5C3 8.32843 3.67157 9 4.5 9C5.32843 9 6 8.32843 6 7.5C6 6.67157 5.32843 6 4.5 6ZM15.5 6C14.6716 6 14 6.67157 14 7.5C14 8.32843 14.6716 9 15.5 9C16.3284 9 17 8.32843 17 7.5C17 6.67157 16.3284 6 15.5 6Z"
                    fill="black"
                  />
                </svg>
              }
            >
              <Link to="/dashboard/users">Пользователи</Link>
            </Menu.Item>

            <Menu.Item
              onClick={() => {
                setAdminPanel(false);
              }}
              key="admin"
              icon={
                <svg
                  width="16"
                  height="20"
                  viewBox="0 0 16 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M8 14C7.21788 14 6.59078 14.0528 6.05574 14.1311C3.85024 14.4541 2 16.6979 2 19C2 19.5523 1.55228 20 1 20C0.447715 20 0 19.5523 0 19C0 16.4069 1.62494 13.8599 3.9591 12.7166C2.1687 11.4487 1 9.36082 1 7C1 3.13401 4.13401 0 8 0C11.866 0 15 3.13401 15 7C15 9.36081 13.8313 11.4487 12.0409 12.7166C14.3751 13.8599 16 16.4069 16 19C16 19.5523 15.5523 20 15 20C14.4477 20 14 19.5523 14 19C14 16.6979 12.1498 14.4541 9.94426 14.1311C9.40922 14.0528 8.78212 14 8 14ZM8 12C5.23858 12 3 9.76142 3 7C3 4.23858 5.23858 2 8 2C10.7614 2 13 4.23858 13 7C13 9.76142 10.7614 12 8 12Z"
                    fill="black"
                  />
                </svg>
              }
            >
              Уч.панель
            </Menu.Item>
          </>
        )}
      </Menu>
      <div className="bottomButtons">
        <button className="help" onClick={showModal}>
          <img src={supportImg} alt="Logout" />
          <span>{t("Sidebar:help")}</span>
        </button>
        <button
          onClick={() => {
            dispatch(logout());
            navigate("/login");
          }}
          className="logout"
        >
          <img src={logoutImg} alt="Logout" />
          <span>{t("Sidebar:logOut")}</span>
        </button>
      </div>
      <Modal
        centered
        title="Нужна помощь?"
        className="modalCourses"
        width={1000}
        visible={isModalVisible}
        onOk={handleOk}
        onCancel={handleCancel}
        footer={null}
      >
        <p>
          {t("Sidebar:helpAdmin")}
          <a rel="noreferrer" href="https://t.me/kh_shakhriyor" target="_blank">
            {" "}
            {t("Sidebar:admin")}
          </a>
        </p>
        <p>
          {t("Sidebar:community")}
          <a
            rel="noreferrer"
            href="https://t.me/joinchat/ABxg-n4AyT5hMjNi"
            target="_blank"
          >
            {" "}
            {t("Sidebar:group")}
          </a>
        </p>
        {helpList &&
          helpList.map((h, key: number) => (
            <p key={key}>
              {t("Sidebar:group")} {h.title}, {t("Sidebar:question")}
              <a rel="noreferrer" target="_blank" href={h.telegram}>
                {t("Sidebar:thisGroup")}
              </a>
            </p>
          ))}
      </Modal>
    </div>
  );
};

export default Sidebar;
